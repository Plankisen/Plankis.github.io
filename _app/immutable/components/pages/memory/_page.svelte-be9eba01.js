import{S as w,i as G,s as S,k as m,l as g,m as b,h as v,n as f,b as q,D as _,B as y,L as V,a as I,c as z,I as k,M,J as E,K as A}from"../../../chunks/index-dc08bfc1.js";function D(n,l,a){const r=n.slice();return r[6]=l[a],r[8]=a,r}function $(n){let l,a,r,t,e,c,s,o,i;function u(){return n[2](n[6])}function d(){return n[3](n[6])}return{c(){l=m("div"),a=m("img"),t=I(),e=m("img"),s=I(),this.h()},l(p){l=g(p,"DIV",{class:!0});var h=b(l);a=g(h,"IMG",{class:!0,src:!0,alt:!0}),t=z(h),e=g(h,"IMG",{class:!0,src:!0,alt:!0}),s=z(h),h.forEach(v),this.h()},h(){f(a,"class","front svelte-1h1bhzg"),k(a.src,r=n[6].img)||f(a,"src",r),f(a,"alt",""),f(e,"class","back svelte-1h1bhzg"),k(e.src,c="back.webp")||f(e,"src",c),f(e,"alt",""),f(l,"class","card svelte-1h1bhzg"),M(l,"flipped",n[6].flipped)},m(p,h){q(p,l,h),_(l,a),_(l,t),_(l,e),_(l,s),o||(i=[E(l,"click",u),E(l,"keypress",d)],o=!0)},p(p,h){n=p,h&1&&!k(a.src,r=n[6].img)&&f(a,"src",r),h&1&&M(l,"flipped",n[6].flipped)},d(p){p&&v(l),o=!1,A(i)}}}function B(n){let l,a,r=n[0],t=[];for(let e=0;e<r.length;e+=1)t[e]=$(D(n,r,e));return{c(){l=m("main"),a=m("div");for(let e=0;e<t.length;e+=1)t[e].c();this.h()},l(e){l=g(e,"MAIN",{class:!0});var c=b(l);a=g(c,"DIV",{class:!0});var s=b(a);for(let o=0;o<t.length;o+=1)t[o].l(s);s.forEach(v),c.forEach(v),this.h()},h(){f(a,"class","row svelte-1h1bhzg"),f(l,"class","svelte-1h1bhzg")},m(e,c){q(e,l,c),_(l,a);for(let s=0;s<t.length;s+=1)t[s].m(a,null)},p(e,[c]){if(c&3){r=e[0];let s;for(s=0;s<r.length;s+=1){const o=D(e,r,s);t[s]?t[s].p(o,c):(t[s]=$(o),t[s].c(),t[s].m(a,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=r.length}},i:y,o:y,d(e){e&&v(l),V(t,e)}}}function C(n,l,a){let r=[];for(let i=0;i<6;i++)for(let u=0;u<2;u++)r.push({id:u+i*2,img:`https://picsum.photos/${i*5+100}/200`,flipped:!1,completed:!1}),r=r.map(d=>({value:d,sort:Math.random()})).sort((d,p)=>d.sort-p.sort).map(({value:d})=>d);let t=0,e=null;function c(i){if(!i.flipped){if(t>1){alert("chill");return}i.flipped=!0,t+=1,e!=null?e.img==i.img?(e.completed=!0,i.completed=!0,e=null,t=0):(e=null,setTimeout(()=>{r.forEach(u=>{u.flipped=u.completed}),t=0,a(0,r)},2e3)):e=i,a(0,r)}}return[r,c,i=>{c(i)},i=>{c(i)}]}class K extends w{constructor(l){super(),G(this,l,C,B,S,{})}}export{K as default};
